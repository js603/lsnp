# 비둘기밥의 밤 (Night of Pigeonweed)

An LLM-powered sound novel mystery game with a focus on atmosphere, suspense, and player imagination.

## Overview

**비둘기밥의 밤** (Night of Pigeonweed) is an experimental sound novel that leverages large language models to create dynamic, branching narratives. Inspired by classic Japanese sound novels like "Kamaitachi no Yoru" (Night of the Sickle Weasel), this game focuses on creating atmospheric mystery experiences where the player's imagination is a key component.

## Features

- **LLM-Driven Storytelling**: Dynamic narrative generation using Groq API (primary) and Google Gemini API (backup)
- **Atmospheric Audio**: Procedurally generated soundscapes and music using Web Audio API and Tone.js
- **Minimalist Visuals**: Characters appear only as silhouettes to maximize player imagination
- **Dynamic Backgrounds**: Scene backgrounds generated based on narrative context
- **Branching Storylines**: Player choices lead to different narrative paths and multiple endings
- **Save/Load System**: Automatic saving of game progress

## Technology Stack

- **Frontend**: React 18.2.0
- **Backend/Database**: Firebase
- **LLM APIs**:
  - Primary: Groq API
  - Secondary: Google Gemini API
- **Audio**: Tone.js (Web Audio API)
- **Graphics**: HTML Canvas for dynamic rendering
- **Styling**: Styled Components and CSS

## Project Structure

```
src/
├── components/         # UI components
│   ├── game/           # Game-specific components
│   └── screens/        # Screen components (title, settings, etc.)
├── contexts/           # React contexts
├── services/           # Service modules
│   ├── audio/          # Audio services
│   ├── canvas/         # Canvas rendering services
│   ├── firebase/       # Firebase integration
│   └── llm/            # LLM integration
├── assets/             # Static assets
│   ├── audio/          # Audio files
│   └── images/         # Image files
├── utils/              # Utility functions
├── hooks/              # Custom React hooks
└── tests/              # Test scripts
```

## Getting Started

### Prerequisites

- Node.js (v16 or higher)
- npm or yarn
- API keys for Groq and Google Gemini
- Firebase project

### Installation

1. Clone the repository:
   ```
   git clone https://github.com/your-username/night-of-pigeonweed.git
   cd night-of-pigeonweed
   ```

2. Install dependencies:
   ```
   npm install
   ```

3. Create a `.env` file in the root directory with your API keys:
   ```
   REACT_APP_FIREBASE_API_KEY=your-firebase-api-key
   REACT_APP_FIREBASE_AUTH_DOMAIN=your-project-id.firebaseapp.com
   REACT_APP_FIREBASE_PROJECT_ID=your-project-id
   REACT_APP_FIREBASE_STORAGE_BUCKET=your-project-id.appspot.com
   REACT_APP_FIREBASE_MESSAGING_SENDER_ID=your-messaging-sender-id
   REACT_APP_FIREBASE_APP_ID=your-app-id
   REACT_APP_FIREBASE_MEASUREMENT_ID=your-measurement-id
   
   REACT_APP_GROQ_API_KEY=your-groq-api-key
   REACT_APP_GEMINI_API_KEY=your-gemini-api-key
   ```

4. Start the development server:
   ```
   npm start
   ```

5. Open [http://localhost:3000](http://localhost:3000) to view the game in your browser.

## Game Design Principles

- **Text-Centered Storytelling**: All narrative, dialogue, and scene descriptions are generated by LLMs
- **Atmospheric Immersion**: Sound and music are prioritized to create mood and tension
- **Player Imagination**: Minimal visuals encourage players to form their own mental images
- **Meaningful Choices**: Player decisions significantly impact the story direction
- **Multiple Paths**: Different playthroughs reveal new story elements and endings

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Acknowledgments

- Inspired by "Kamaitachi no Yoru" and other classic sound novels
- Built with React, Firebase, and LLM technology
- Special thanks to the open-source community for their invaluable tools and libraries